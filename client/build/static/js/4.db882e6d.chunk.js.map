{"version":3,"sources":["components/MessageList/DeleteMessage.js","components/MessageTabs/MessageTabs.js","components/MessageList/MessageItem.js","components/MessageList/MessageList.js","components/MessageTabs/MessageTab/MessageTab.js","containers/ManageEmail/MessageDetails/MessageDetails.js","components/EmailDetails/EmailDetails.js","components/MessageInfo/MessageInfo.js","containers/ManageEmail/ManageEmail.js"],"names":["withErrorHandler","modalDetails","handleClose","dispatch","useDispatch","handleDeleteMessage","a","deleteMessage","messageId","currentPrefix","toast","info","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Dialog","open","visible","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","color","autoFocus","MessageTabs","value","handleChange","a11yProps","index","Tabs","onChange","aria-label","centered","Tab","label","MessageItem","message","prefix","handleDelete","moveToRoute","primaryText","recciverId","MessageType","From","senderId","ListItem","ListItemText","primary","secondary","createdAt","ListItemSecondaryAction","IconButton","edge","bind","Delete","Info","MessageList","messages","openErrorModal","history","useHistory","routeToMessageInfo","push","location","pathname","List","dense","className","map","msg","MessageTab","props","children","other","role","hidden","Box","p","Typography","MessageDetails","React","useState","deleteModal","setDeleteModal","tabsValue","setTabsValue","useSelector","state","messagesSent","messagesReccived","event","newValue","To","auth","type","variant","getMessages","user","userId","MessageInfo","component","subheader","ListSubheader","Object","keys","key","goBack","ManageEmail","path","exact","render"],"mappings":"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","file":"static/js/4.db882e6d.chunk.js","sourcesContent":["import React from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  DialogContentText,\r\n  DialogActions,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { deleteMessage } from '../../store/actions/message';\r\nimport withErrorHandler from '../../withErrorHandler/withErrorHandler';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst DeleteMessage = ({ modalDetails, handleClose }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDeleteMessage = async () => {\r\n    await dispatch(\r\n      deleteMessage(modalDetails.messageId, modalDetails.currentPrefix)\r\n    );\r\n    handleClose();\r\n    toast.info('Message was deleted', {\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  };\r\n  return (\r\n    <Dialog\r\n      open={modalDetails.visible}\r\n      onClose={handleClose}\r\n      aria-labelledby='alert-dialog-title'\r\n      aria-describedby='alert-dialog-description'>\r\n      <DialogTitle id='alert-dialog-title'>Are you sure ?</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id='alert-dialog-description'>\r\n          The message will be deleted\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color='primary'>\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleDeleteMessage} color='secondary' autoFocus>\r\n          Delete\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default withErrorHandler(DeleteMessage);\r\n","import React from 'react';\r\nimport { Tabs, Tab } from '@material-ui/core';\r\n\r\nexport const MessageTabs = ({ value, handleChange }) => {\r\n  function a11yProps(index) {\r\n    return {\r\n      id: `simple-tab-${index}`,\r\n      'aria-controls': `simple-tabpanel-${index}`,\r\n    };\r\n  }\r\n  return (\r\n    <Tabs\r\n      value={value}\r\n      onChange={handleChange}\r\n      aria-label='simple tabs example'\r\n      centered>\r\n      <Tab label='Sent' {...a11yProps(0)} />\r\n      <Tab label='Reccived Add referesh options' {...a11yProps(1)} />\r\n    </Tabs>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport {\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n} from '@material-ui/core';\r\nimport { Delete, Info } from '@material-ui/icons';\r\nimport { MessageType } from '../../constants/messageType';\r\n\r\nexport const MessageItem = ({ message, prefix, handleDelete, moveToRoute }) => {\r\n  let primaryText = `${prefix}: ${message.recciverId}`;\r\n  if (prefix === MessageType.From) {\r\n    primaryText = `${prefix}: ${message.senderId}`;\r\n  }\r\n  return (\r\n    <ListItem>\r\n      <ListItemText primary={primaryText} secondary={message.createdAt} />\r\n      <ListItemSecondaryAction>\r\n        <IconButton\r\n          edge='end'\r\n          aria-label='delete'\r\n          onClick={handleDelete.bind(null, message.id, prefix)}>\r\n          <Delete />\r\n        </IconButton>\r\n        <IconButton\r\n          edge='end'\r\n          aria-label='delete'\r\n          onClick={moveToRoute.bind(null, message)}>\r\n          <Info />\r\n        </IconButton>\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { List } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { MessageItem } from './MessageItem';\r\n\r\nexport const MessageList = ({ messages, prefix, openErrorModal }) => {\r\n  const history = useHistory();\r\n  const routeToMessageInfo = (message) => {\r\n    history.push(`${history.location.pathname}/messageInfo/${message.id}`, {\r\n      message,\r\n    });\r\n  };\r\n  const handleDelete = (id, prefix) => {\r\n    openErrorModal(id, prefix);\r\n  };\r\n\r\n  return (\r\n    <List dense={true} className='messages-list'>\r\n      {messages.map((msg) => (\r\n        <MessageItem\r\n          message={msg}\r\n          prefix={prefix}\r\n          handleDelete={handleDelete}\r\n          moveToRoute={routeToMessageInfo}\r\n        />\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default MessageList;\r\n","import React from 'react';\r\nimport { Box, Typography } from '@material-ui/core';\r\n\r\nexport const MessageTab = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role='tabpanel'\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}>\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport DeleteMessage from '../../../components/MessageList/DeleteMessage';\r\nimport { MessageTabs } from '../../../components/MessageTabs/MessageTabs';\r\nimport { MessageList } from '../../../components/MessageList/MessageList';\r\nimport { MessageTab } from '../../../components/MessageTabs/MessageTab/MessageTab';\r\nimport { MessageType } from '../../../constants/messageType';\r\n\r\nconst MessageDetails = () => {\r\n  const [deleteModal, setDeleteModal] = React.useState({\r\n    visible: false,\r\n    messageId: null,\r\n    currentPrefix: null,\r\n  });\r\n  const [tabsValue, setTabsValue] = useState(0);\r\n  const { messagesSent, messagesReccived } = useSelector(\r\n    (state) => state.message\r\n  );\r\n\r\n  const openErrorModal = (id, prefix) => {\r\n    setDeleteModal({ visible: true, messageId: id, currentPrefix: prefix });\r\n  };\r\n\r\n  const closeErrorModal = () => {\r\n    setDeleteModal({ visible: false, messageId: null, currentPrefix: null });\r\n  };\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setTabsValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className='message-details'>\r\n      <DeleteMessage modalDetails={deleteModal} handleClose={closeErrorModal} />\r\n      <MessageTabs value={tabsValue} handleChange={handleChange} />\r\n      <MessageTab value={tabsValue} index={0}>\r\n        <MessageList\r\n          messages={messagesSent}\r\n          prefix={MessageType.To}\r\n          openErrorModal={openErrorModal}\r\n        />\r\n      </MessageTab>\r\n      <MessageTab value={tabsValue} index={1}>\r\n        <MessageList\r\n          messages={messagesReccived}\r\n          prefix={MessageType.From}\r\n          openErrorModal={openErrorModal}\r\n        />\r\n      </MessageTab>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageDetails;\r\n","import React from 'react';\r\nimport './EmailDetails.scss';\r\nimport { Button } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getMessages } from '../../store/actions/message';\r\nimport withErrorHandler from '../../withErrorHandler/withErrorHandler';\r\n\r\nconst EmailDetails = () => {\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector((state) => state.auth);\r\n  const searchUserRelatedMessages = () => {\r\n    dispatch(getMessages(auth.user.userId));\r\n  };\r\n  return (\r\n    <div className='email-details'>\r\n      <Button\r\n        className='email-details__cta'\r\n        type='submit'\r\n        variant='contained'\r\n        color='secondary'\r\n        onClick={searchUserRelatedMessages}>\r\n        Get All Messages\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withErrorHandler(EmailDetails);\r\n","import React from 'react';\r\nimport './MessageInfo.scss';\r\nimport {\r\n  List,\r\n  ListSubheader,\r\n  ListItem,\r\n  ListItemText,\r\n  Button,\r\n} from '@material-ui/core';\r\n\r\nexport const MessageInfo = ({ history }) => {\r\n  const { message } = history.location.state;\r\n  return (\r\n    <List\r\n      className='message-info'\r\n      component='nav'\r\n      aria-labelledby='nested-list-subheader'\r\n      subheader={\r\n        <ListSubheader component='div' id='nested-list-subheader'>\r\n          Message Details\r\n        </ListSubheader>\r\n      }>\r\n      {Object.keys(message).map((key) => {\r\n        return (\r\n          <ListItem>\r\n            <ListItemText primary={key} secondary={message[key]} />\r\n          </ListItem>\r\n        );\r\n      })}\r\n      <Button\r\n        variant='contained'\r\n        className='message-info__btn'\r\n        color='primary'\r\n        onClick={() => {\r\n          history.goBack();\r\n        }}>\r\n        Back\r\n      </Button>\r\n    </List>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport './ManageEmail.scss';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport MessageDetails from './MessageDetails/MessageDetails';\r\nimport EmailDetails from '../../components/EmailDetails/EmailDetails';\r\nimport { MessageInfo } from '../../components/MessageInfo/MessageInfo';\r\n\r\nconst ManageEmail = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path='/manage/messageInfo/:id' exact component={MessageInfo} />\r\n      <Route\r\n        render={() => (\r\n          <div className='manage-details'>\r\n            <EmailDetails />\r\n            <MessageDetails />\r\n          </div>\r\n        )}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\nexport default ManageEmail;\r\n"],"sourceRoot":""}