(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{338:function(e,a,n){},339:function(e,a,n){},340:function(e,a,n){},356:function(e,a,n){"use strict";n.r(a);var t=n(5),c=n(0),s=n.n(c),r=(n(338),n(12)),i=n(32),l=n(27),o=n(22),d=n.n(o),j=n(35),b=n(332),u=n(324),O=n(345),x=n(346),m=n(347),h=n(327),f=n(72),p=n(100),g=n(102),v=Object(p.a)((function(e){var a=e.modalDetails,n=e.handleClose,c=Object(l.b)(),s=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Object(f.e)(a.messageId,a.currentPrefix));case 2:n(),g.b.info("Message was deleted",{autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(t.jsxs)(b.a,{open:a.visible,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(t.jsx)(u.a,{id:"alert-dialog-title",children:"Are you sure ?"}),Object(t.jsx)(O.a,{children:Object(t.jsx)(x.a,{id:"alert-dialog-description",children:"The message will be deleted"})}),Object(t.jsxs)(m.a,{children:[Object(t.jsx)(h.a,{onClick:n,color:"primary",children:"Cancel"}),Object(t.jsx)(h.a,{onClick:s,color:"secondary",autoFocus:!0,children:"Delete"})]})]})})),y=n(24),C=n(357),k=n(348),I=function(e){var a=e.value,n=e.handleChange;function c(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return Object(t.jsxs)(C.a,{value:a,onChange:n,"aria-label":"simple tabs example",centered:!0,children:[Object(t.jsx)(k.a,Object(y.a)({label:"Sent"},c(0))),Object(t.jsx)(k.a,Object(y.a)({label:"Reccived Add referesh options"},c(1)))]})},N=n(323),w=n(349),D=n(350),M=n(351),P=n(326),A=n(352),R=n(353),S=n(103),T=function(e){var a=e.message,n=e.prefix,c=e.handleDelete,s=e.moveToRoute,r="".concat(n,": ").concat(a.recciverId);return n===S.a.From&&(r="".concat(n,": ").concat(a.senderId)),Object(t.jsxs)(w.a,{children:[Object(t.jsx)(D.a,{primary:r,secondary:a.createdAt}),Object(t.jsxs)(M.a,{children:[Object(t.jsx)(P.a,{edge:"end","aria-label":"delete",onClick:c.bind(null,a.id,n),children:Object(t.jsx)(A.a,{})}),Object(t.jsx)(P.a,{edge:"end","aria-label":"delete",onClick:s.bind(null,a),children:Object(t.jsx)(R.a,{})})]})]})},_=function(e){var a=e.messages,n=e.prefix,c=e.openErrorModal,s=Object(r.g)(),i=function(e){s.push("".concat(s.location.pathname,"/messageInfo/").concat(e.id),{message:e})},l=function(e,a){c(e,a)};return Object(t.jsx)(N.a,{dense:!0,className:"messages-list",children:a.map((function(e){return Object(t.jsx)(T,{message:e,prefix:n,handleDelete:l,moveToRoute:i})}))})},B=n(341),E=n(355),F=n(150),J=function(e){var a=e.children,n=e.value,c=e.index,s=Object(B.a)(e,["children","value","index"]);return Object(t.jsx)("div",Object(y.a)(Object(y.a)({role:"tabpanel",hidden:n!==c,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c)},s),{},{children:n===c&&Object(t.jsx)(E.a,{p:3,children:Object(t.jsx)(F.a,{children:a})})}))},G=function(){var e=s.a.useState({visible:!1,messageId:null,currentPrefix:null}),a=Object(i.a)(e,2),n=a[0],r=a[1],o=Object(c.useState)(0),d=Object(i.a)(o,2),j=d[0],b=d[1],u=Object(l.c)((function(e){return e.message})),O=u.messagesSent,x=u.messagesReccived,m=function(e,a){r({visible:!0,messageId:e,currentPrefix:a})};return Object(t.jsxs)("div",{className:"message-details",children:[Object(t.jsx)(v,{modalDetails:n,handleClose:function(){r({visible:!1,messageId:null,currentPrefix:null})}}),Object(t.jsx)(I,{value:j,handleChange:function(e,a){b(a)}}),Object(t.jsx)(J,{value:j,index:0,children:Object(t.jsx)(_,{messages:O,prefix:S.a.To,openErrorModal:m})}),Object(t.jsx)(J,{value:j,index:1,children:Object(t.jsx)(_,{messages:x,prefix:S.a.From,openErrorModal:m})})]})},H=(n(339),Object(p.a)((function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.auth}));return Object(t.jsx)("div",{className:"email-details",children:Object(t.jsx)(h.a,{className:"email-details__cta",type:"submit",variant:"contained",color:"secondary",onClick:function(){e(Object(f.f)(a.user.userId))},children:"Get All Messages"})})}))),q=(n(340),n(354)),z=function(e){var a=e.history,n=a.location.state.message;return Object(t.jsxs)(N.a,{className:"message-info",component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(t.jsx)(q.a,{component:"div",id:"nested-list-subheader",children:"Message Details"}),children:[Object.keys(n).map((function(e){return Object(t.jsx)(w.a,{children:Object(t.jsx)(D.a,{primary:e,secondary:n[e]})})})),Object(t.jsx)(h.a,{variant:"contained",className:"message-info__btn",color:"primary",onClick:function(){a.goBack()},children:"Back"})]})};a.default=function(){return Object(t.jsxs)(r.d,{children:[Object(t.jsx)(r.b,{path:"/manage/messageInfo/:id",exact:!0,component:z}),Object(t.jsx)(r.b,{render:function(){return Object(t.jsxs)("div",{className:"manage-details",children:[Object(t.jsx)(H,{}),Object(t.jsx)(G,{})]})}})]})}}}]);
//# sourceMappingURL=4.db882e6d.chunk.js.map